echo "ğŸ” Running pre-commit checks..."

# Format Python code with black
echo "ğŸ“ Formatting Python code..."
python -m black . --quiet

# Check Python code quality (non-blocking for now)
echo "ğŸ” Checking Python code quality..."
python -m flake8 . --max-line-length=100 --extend-ignore=E203,W503 || echo "âš ï¸  Flake8 warnings (non-blocking)"

# Run tests if they exist
if [ -d "tests" ]; then
  echo "ğŸ§ª Running tests..."
  python -m pytest -q || exit 1
fi

# Lint staged files
echo "âœ¨ Linting staged files..."
npx lint-staged

echo "âœ… Pre-commit checks passed!"
